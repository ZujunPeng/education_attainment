<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data Cleaning | Education Attainment in the US</title>
  <meta name="description" content="Chapter 3 Data Cleaning | Education Attainment in the US" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data Cleaning | Education Attainment in the US" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data Cleaning | Education Attainment in the US" />
  
  
  

<meta name="author" content="Yifei Chen and Zujun Peng" />


<meta name="date" content="2020-12-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Education Attainment</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data Sources</a></li>
<li class="chapter" data-level="3" data-path="data-cleaning.html"><a href="data-cleaning.html"><i class="fa fa-check"></i><b>3</b> Data Cleaning</a></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclustion.html"><a href="conclustion.html"><i class="fa fa-check"></i><b>7</b> Conclustion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Education Attainment in the US</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-cleaning" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Data Cleaning</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="data-cleaning.html#cb1-1"></a>states &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./data/states.csv&quot;</span>, <span class="dt">na.strings =</span> <span class="st">&quot;N/A&quot;</span>)</span>
<span id="cb1-2"><a href="data-cleaning.html#cb1-2"></a></span>
<span id="cb1-3"><a href="data-cleaning.html#cb1-3"></a><span class="co">#extract columns for education attainment</span></span>
<span id="cb1-4"><a href="data-cleaning.html#cb1-4"></a>states_education &lt;-<span class="st"> </span>states[,<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>]</span>
<span id="cb1-5"><a href="data-cleaning.html#cb1-5"></a>states_education &lt;-<span class="st"> </span>states_education <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span><span class="op">!</span>State ,<span class="dt">names_to =</span> <span class="st">&quot;Education&quot;</span>,<span class="dt">values_to =</span> <span class="st">&quot;Population&quot;</span>)</span>
<span id="cb1-6"><a href="data-cleaning.html#cb1-6"></a><span class="co">#extract columns for medain earning</span></span>
<span id="cb1-7"><a href="data-cleaning.html#cb1-7"></a>states_earning &lt;-<span class="st"> </span>states[,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>)]</span>
<span id="cb1-8"><a href="data-cleaning.html#cb1-8"></a>states_earning &lt;-<span class="st"> </span>states_earning <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span><span class="op">!</span>State ,<span class="dt">names_to =</span> <span class="st">&quot;Education&quot;</span>,<span class="dt">values_to =</span> <span class="st">&quot;Earning&quot;</span>)</span>
<span id="cb1-9"><a href="data-cleaning.html#cb1-9"></a><span class="co">#combine data</span></span>
<span id="cb1-10"><a href="data-cleaning.html#cb1-10"></a>states &lt;-<span class="st"> </span><span class="kw">cbind</span>(states_education,states_earning[,<span class="dv">3</span>])</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="data-cleaning.html#cb2-1"></a>states</span></code></pre></div>
<pre><code>##                    State                                   Education Population
## 1                Alabama                                       Total    3360058
## 2                Alabama              Less.than.high.school.graduate     433073
## 3                Alabama High.school.graduate..includes.equivalency.    1039241
## 4                Alabama          Some.college.or.associate.s.degree    1002387
## 5                Alabama                           Bachelor.s.degree     547975
## 6                Alabama             Graduate.or.professional.degree     337382
## 7                 Alaska                                       Total     484058
## 8                 Alaska              Less.than.high.school.graduate      31090
## 9                 Alaska High.school.graduate..includes.equivalency.     139156
## 10                Alaska          Some.college.or.associate.s.degree     167655
## 11                Alaska                           Bachelor.s.degree      89583
## 12                Alaska             Graduate.or.professional.degree      56574
## 13               Arizona                                       Total    4944540
## 14               Arizona              Less.than.high.school.graduate     612998
## 15               Arizona High.school.graduate..includes.equivalency.    1170685
## 16               Arizona          Some.college.or.associate.s.degree    1668699
## 17               Arizona                           Bachelor.s.degree     931038
## 18               Arizona             Graduate.or.professional.degree     561120
## 19              Arkansas                                       Total    2036456
## 20              Arkansas              Less.than.high.school.graduate     254993
## 21              Arkansas High.school.graduate..includes.equivalency.     710306
## 22              Arkansas          Some.college.or.associate.s.degree     595790
## 23              Arkansas                           Bachelor.s.degree     307185
## 24              Arkansas             Graduate.or.professional.degree     168182
## 25            California                                       Total   26937872
## 26            California              Less.than.high.school.graduate    4301513
## 27            California High.school.graduate..includes.equivalency.    5546711
## 28            California          Some.college.or.associate.s.degree    7661164
## 29            California                           Bachelor.s.degree    5889724
## 30            California             Graduate.or.professional.degree    3538760
## 31              Colorado                                       Total    3974943
## 32              Colorado              Less.than.high.school.graduate     302220
## 33              Colorado High.school.graduate..includes.equivalency.     836590
## 34              Colorado          Some.college.or.associate.s.degree    1140531
## 35              Colorado                           Bachelor.s.degree    1057825
## 36              Colorado             Graduate.or.professional.degree     637777
## 37           Connecticut                                       Total    2496420
## 38           Connecticut              Less.than.high.school.graduate     231839
## 39           Connecticut High.school.graduate..includes.equivalency.     668361
## 40           Connecticut          Some.college.or.associate.s.degree     601672
## 41           Connecticut                           Bachelor.s.degree     549166
## 42           Connecticut             Graduate.or.professional.degree     445382
## 43              Delaware                                       Total     687311
## 44              Delaware              Less.than.high.school.graduate      66522
## 45              Delaware High.school.graduate..includes.equivalency.     207642
## 46              Delaware          Some.college.or.associate.s.degree     184948
## 47              Delaware                           Bachelor.s.degree     134287
## 48              Delaware             Graduate.or.professional.degree      93912
## 49  District of Columbia                                       Total     505145
## 50  District of Columbia              Less.than.high.school.graduate      41168
## 51  District of Columbia High.school.graduate..includes.equivalency.      79881
## 52  District of Columbia          Some.college.or.associate.s.degree      82667
## 53  District of Columbia                           Bachelor.s.degree     129825
## 54  District of Columbia             Graduate.or.professional.degree     171604
## 55               Florida                                       Total   15484502
## 56               Florida              Less.than.high.school.graduate    1794635
## 57               Florida High.school.graduate..includes.equivalency.    4396122
## 58               Florida          Some.college.or.associate.s.degree    4540108
## 59               Florida                           Bachelor.s.degree    2982643
## 60               Florida             Graduate.or.professional.degree    1770994
## 61               Georgia                                       Total    7080222
## 62               Georgia              Less.than.high.school.graduate     856025
## 63               Georgia High.school.graduate..includes.equivalency.    1939945
## 64               Georgia          Some.college.or.associate.s.degree    1982684
## 65               Georgia                           Bachelor.s.degree    1410395
## 66               Georgia             Graduate.or.professional.degree     891173
## 67                Hawaii                                       Total     996668
## 68                Hawaii              Less.than.high.school.graduate      75978
## 69                Hawaii High.school.graduate..includes.equivalency.     273421
## 70                Hawaii          Some.college.or.associate.s.degree     312060
## 71                Hawaii                           Bachelor.s.degree     219979
## 72                Hawaii             Graduate.or.professional.degree     115230
## 73                 Idaho                                       Total    1170997
## 74                 Idaho              Less.than.high.school.graduate      99906
## 75                 Idaho High.school.graduate..includes.equivalency.     305274
## 76                 Idaho          Some.college.or.associate.s.degree     429162
## 77                 Idaho                           Bachelor.s.degree     220189
## 78                 Idaho             Graduate.or.professional.degree     116466
## 79              Illinois                                       Total    8694694
## 80              Illinois              Less.than.high.school.graduate     882637
## 81              Illinois High.school.graduate..includes.equivalency.    2255611
## 82              Illinois          Some.college.or.associate.s.degree    2447474
## 83              Illinois                           Bachelor.s.degree    1886240
## 84              Illinois             Graduate.or.professional.degree    1222732
## 85               Indiana                                       Total    4502015
## 86               Indiana              Less.than.high.school.graduate     468083
## 87               Indiana High.school.graduate..includes.equivalency.    1526825
## 88               Indiana          Some.college.or.associate.s.degree    1294281
## 89               Indiana                           Bachelor.s.degree     777771
## 90               Indiana             Graduate.or.professional.degree     435055
## 91                  Iowa                                       Total    2123004
## 92                  Iowa              Less.than.high.school.graduate     156481
## 93                  Iowa High.school.graduate..includes.equivalency.     658822
## 94                  Iowa          Some.college.or.associate.s.degree     685448
## 95                  Iowa                           Bachelor.s.degree     420199
## 96                  Iowa             Graduate.or.professional.degree     202054
## 97                Kansas                                       Total    1918081
## 98                Kansas              Less.than.high.school.graduate     157757
## 99                Kansas High.school.graduate..includes.equivalency.     504035
## 100               Kansas          Some.college.or.associate.s.degree     603800
## 101               Kansas                           Bachelor.s.degree     414851
## 102               Kansas             Graduate.or.professional.degree     237638
## 103             Kentucky                                       Total    3048442
## 104             Kentucky              Less.than.high.school.graduate     390653
## 105             Kentucky High.school.graduate..includes.equivalency.    1012643
## 106             Kentucky          Some.college.or.associate.s.degree     879223
## 107             Kentucky                           Bachelor.s.degree     453040
## 108             Kentucky             Graduate.or.professional.degree     312883
## 109            Louisiana                                       Total    3140201
## 110            Louisiana              Less.than.high.school.graduate     440844
## 111            Louisiana High.school.graduate..includes.equivalency.    1066026
## 112            Louisiana          Some.college.or.associate.s.degree     849056
## 113            Louisiana                           Bachelor.s.degree     503947
## 114            Louisiana             Graduate.or.professional.degree     280328
## 115                Maine                                       Total     991152
## 116                Maine              Less.than.high.school.graduate      67314
## 117                Maine High.school.graduate..includes.equivalency.     311108
## 118                Maine          Some.college.or.associate.s.degree     283731
## 119                Maine                           Bachelor.s.degree     205722
## 120                Maine             Graduate.or.professional.degree     123277
## 121             Maryland                                       Total    4183858
## 122             Maryland              Less.than.high.school.graduate     402152
## 123             Maryland High.school.graduate..includes.equivalency.    1030636
## 124             Maryland          Some.college.or.associate.s.degree    1040840
## 125             Maryland                           Bachelor.s.degree     911781
## 126             Maryland             Graduate.or.professional.degree     798449
## 127        Massachusetts                                       Total    4850576
## 128        Massachusetts              Less.than.high.school.graduate     420941
## 129        Massachusetts High.school.graduate..includes.equivalency.    1158066
## 130        Massachusetts          Some.college.or.associate.s.degree    1089826
## 131        Massachusetts                           Bachelor.s.degree    1197208
## 132        Massachusetts             Graduate.or.professional.degree     984535
## 133             Michigan                                       Total    6894627
## 134             Michigan              Less.than.high.school.graduate     596287
## 135             Michigan High.school.graduate..includes.equivalency.    2005981
## 136             Michigan          Some.college.or.associate.s.degree    2221564
## 137             Michigan                           Bachelor.s.degree    1252685
## 138             Michigan             Graduate.or.professional.degree     818110
## 139            Minnesota                                       Total    3847212
## 140            Minnesota              Less.than.high.school.graduate     245690
## 141            Minnesota High.school.graduate..includes.equivalency.     939997
## 142            Minnesota          Some.college.or.associate.s.degree    1228299
## 143            Minnesota                           Bachelor.s.degree     942830
## 144            Minnesota             Graduate.or.professional.degree     490396
## 145          Mississippi                                       Total    1979664
## 146          Mississippi              Less.than.high.school.graduate     290917
## 147          Mississippi High.school.graduate..includes.equivalency.     598609
## 148          Mississippi          Some.college.or.associate.s.degree     648387
## 149          Mississippi                           Bachelor.s.degree     270712
## 150          Mississippi             Graduate.or.professional.degree     171039
## 151             Missouri                                       Total    4206162
## 152             Missouri              Less.than.high.school.graduate     391815
## 153             Missouri High.school.graduate..includes.equivalency.    1308859
## 154             Missouri          Some.college.or.associate.s.degree    1234207
## 155             Missouri                           Bachelor.s.degree     775808
## 156             Missouri             Graduate.or.professional.degree     495473
## 157              Montana                                       Total     741950
## 158              Montana              Less.than.high.school.graduate      42682
## 159              Montana High.school.graduate..includes.equivalency.     211079
## 160              Montana          Some.college.or.associate.s.degree     239041
## 161              Montana                           Bachelor.s.degree     171309
## 162              Montana             Graduate.or.professional.degree      77839
## 163             Nebraska                                       Total    1271770
## 164             Nebraska              Less.than.high.school.graduate     101272
## 165             Nebraska High.school.graduate..includes.equivalency.     326389
## 166             Nebraska          Some.college.or.associate.s.degree     421522
## 167             Nebraska                           Bachelor.s.degree     277159
## 168             Nebraska             Graduate.or.professional.degree     145428
## 169               Nevada                                       Total    2136466
## 170               Nevada              Less.than.high.school.graduate     280915
## 171               Nevada High.school.graduate..includes.equivalency.     593417
## 172               Nevada          Some.college.or.associate.s.degree     713215
## 173               Nevada                           Bachelor.s.degree     355837
## 174               Nevada             Graduate.or.professional.degree     193082
## 175        New Hampshire                                       Total     979750
## 176        New Hampshire              Less.than.high.school.graduate      65672
## 177        New Hampshire High.school.graduate..includes.equivalency.     275105
## 178        New Hampshire          Some.college.or.associate.s.degree     270736
## 179        New Hampshire                           Bachelor.s.degree     224636
## 180        New Hampshire             Graduate.or.professional.degree     143601
## 181           New Jersey                                       Total    6191229
## 182           New Jersey              Less.than.high.school.graduate     599619
## 183           New Jersey High.school.graduate..includes.equivalency.    1666321
## 184           New Jersey          Some.college.or.associate.s.degree    1373524
## 185           New Jersey                           Bachelor.s.degree    1555781
## 186           New Jersey             Graduate.or.professional.degree     995984
## 187           New Mexico                                       Total    1425988
## 188           New Mexico              Less.than.high.school.graduate     201328
## 189           New Mexico High.school.graduate..includes.equivalency.     376390
## 190           New Mexico          Some.college.or.associate.s.degree     453672
## 191           New Mexico                           Bachelor.s.degree     221281
## 192           New Mexico             Graduate.or.professional.degree     173317
## 193             New York                                       Total   13664734
## 194             New York              Less.than.high.school.graduate    1694230
## 195             New York High.school.graduate..includes.equivalency.    3524192
## 196             New York          Some.college.or.associate.s.degree    3280094
## 197             New York                           Bachelor.s.degree    2898440
## 198             New York             Graduate.or.professional.degree    2267778
## 199       North Carolina                                       Total    7187077
## 200       North Carolina              Less.than.high.school.graduate     818924
## 201       North Carolina High.school.graduate..includes.equivalency.    1839042
## 202       North Carolina          Some.college.or.associate.s.degree    2207926
## 203       North Carolina                           Bachelor.s.degree    1471420
## 204       North Carolina             Graduate.or.professional.degree     849765
## 205         North Dakota                                       Total     504375
## 206         North Dakota              Less.than.high.school.graduate      33019
## 207         North Dakota High.school.graduate..includes.equivalency.     134432
## 208         North Dakota          Some.college.or.associate.s.degree     183527
## 209         North Dakota                           Bachelor.s.degree     108527
## 210         North Dakota             Graduate.or.professional.degree      44870
## 211                 Ohio                                       Total    8049805
## 212                 Ohio              Less.than.high.school.graduate     740847
## 213                 Ohio High.school.graduate..includes.equivalency.    2627758
## 214                 Ohio          Some.college.or.associate.s.degree    2324615
## 215                 Ohio                           Bachelor.s.degree    1464945
## 216                 Ohio             Graduate.or.professional.degree     891640
## 217             Oklahoma                                       Total    2619244
## 218             Oklahoma              Less.than.high.school.graduate     303266
## 219             Oklahoma High.school.graduate..includes.equivalency.     825284
## 220             Oklahoma          Some.college.or.associate.s.degree     804185
## 221             Oklahoma                           Bachelor.s.degree     447888
## 222             Oklahoma             Graduate.or.professional.degree     238621
## 223               Oregon                                       Total    2988118
## 224               Oregon              Less.than.high.school.graduate     258399
## 225               Oregon High.school.graduate..includes.equivalency.     687243
## 226               Oregon          Some.college.or.associate.s.degree    1010160
## 227               Oregon                           Bachelor.s.degree     627911
## 228               Oregon             Graduate.or.professional.degree     404405
## 229         Pennsylvania                                       Total    9028036
## 230         Pennsylvania              Less.than.high.school.graduate     811832
## 231         Pennsylvania High.school.graduate..includes.equivalency.    3103046
## 232         Pennsylvania          Some.college.or.associate.s.degree    2195756
## 233         Pennsylvania                           Bachelor.s.degree    1761627
## 234         Pennsylvania             Graduate.or.professional.degree    1155775
## 235         Rhode Island                                       Total     746952
## 236         Rhode Island              Less.than.high.school.graduate      80207
## 237         Rhode Island High.school.graduate..includes.equivalency.     212282
## 238         Rhode Island          Some.college.or.associate.s.degree     194188
## 239         Rhode Island                           Bachelor.s.degree     156087
## 240         Rhode Island             Graduate.or.professional.degree     104188
## 241       South Carolina                                       Total    3563204
## 242       South Carolina              Less.than.high.school.graduate     415678
## 243       South Carolina High.school.graduate..includes.equivalency.    1015260
## 244       South Carolina          Some.college.or.associate.s.degree    1077707
## 245       South Carolina                           Bachelor.s.degree     656496
## 246       South Carolina             Graduate.or.professional.degree     398063
## 247         South Dakota                                       Total     588029
## 248         South Dakota              Less.than.high.school.graduate      46294
## 249         South Dakota High.school.graduate..includes.equivalency.     176644
## 250         South Dakota          Some.college.or.associate.s.degree     190307
## 251         South Dakota                           Bachelor.s.degree     121231
## 252         South Dakota             Graduate.or.professional.degree      53553
## 253            Tennessee                                       Total    4693962
## 254            Tennessee              Less.than.high.school.graduate     562817
## 255            Tennessee High.school.graduate..includes.equivalency.    1480753
## 256            Tennessee          Some.college.or.associate.s.degree    1302168
## 257            Tennessee                           Bachelor.s.degree     845100
## 258            Tennessee             Graduate.or.professional.degree     503124
## 259                Texas                                       Total   18772550
## 260                Texas              Less.than.high.school.graduate    2882388
## 261                Texas High.school.graduate..includes.equivalency.    4734422
## 262                Texas          Some.college.or.associate.s.degree    5379207
## 263                Texas                           Bachelor.s.degree    3750797
## 264                Texas             Graduate.or.professional.degree    2025736
## 265                 Utah                                       Total    1911592
## 266                 Utah              Less.than.high.school.graduate     133060
## 267                 Utah High.school.graduate..includes.equivalency.     442206
## 268                 Utah          Some.college.or.associate.s.degree     671665
## 269                 Utah                           Bachelor.s.degree     448109
## 270                 Utah             Graduate.or.professional.degree     216552
## 271              Vermont                                       Total     445558
## 272              Vermont              Less.than.high.school.graduate      30858
## 273              Vermont High.school.graduate..includes.equivalency.     129254
## 274              Vermont          Some.college.or.associate.s.degree     113174
## 275              Vermont                           Bachelor.s.degree     101015
## 276              Vermont             Graduate.or.professional.degree      71257
## 277             Virginia                                       Total    5872757
## 278             Virginia              Less.than.high.school.graduate     584712
## 279             Virginia High.school.graduate..includes.equivalency.    1387610
## 280             Virginia          Some.college.or.associate.s.degree    1575365
## 281             Virginia                           Bachelor.s.degree    1312800
## 282             Virginia             Graduate.or.professional.degree    1012270
## 283           Washington                                       Total    5290324
## 284           Washington              Less.than.high.school.graduate     440074
## 285           Washington High.school.graduate..includes.equivalency.    1167347
## 286           Washington          Some.college.or.associate.s.degree    1727271
## 287           Washington                           Bachelor.s.degree    1204728
## 288           Washington             Graduate.or.professional.degree     750904
## 289        West Virginia                                       Total    1281086
## 290        West Virginia              Less.than.high.school.graduate     164805
## 291        West Virginia High.school.graduate..includes.equivalency.     515431
## 292        West Virginia          Some.college.or.associate.s.degree     331144
## 293        West Virginia                           Bachelor.s.degree     161686
## 294        West Virginia             Graduate.or.professional.degree     108020
## 295            Wisconsin                                       Total    4015285
## 296            Wisconsin              Less.than.high.school.graduate     290862
## 297            Wisconsin High.school.graduate..includes.equivalency.    1223392
## 298            Wisconsin          Some.college.or.associate.s.degree    1242652
## 299            Wisconsin                           Bachelor.s.degree     829878
## 300            Wisconsin             Graduate.or.professional.degree     428501
## 301              Wyoming                                       Total     389847
## 302              Wyoming              Less.than.high.school.graduate      21250
## 303              Wyoming High.school.graduate..includes.equivalency.     117501
## 304              Wyoming          Some.college.or.associate.s.degree     137539
## 305              Wyoming                           Bachelor.s.degree      73183
## 306              Wyoming             Graduate.or.professional.degree      40374
## 307          Puerto Rico                                       Total    2301735
## 308          Puerto Rico              Less.than.high.school.graduate     488408
## 309          Puerto Rico High.school.graduate..includes.equivalency.     648146
## 310          Puerto Rico          Some.college.or.associate.s.degree     538601
## 311          Puerto Rico                           Bachelor.s.degree     443589
## 312          Puerto Rico             Graduate.or.professional.degree     182991
## 313        United States                                       Total  224898568
## 314        United States              Less.than.high.school.graduate   25618541
## 315        United States High.school.graduate..includes.equivalency.   60482353
## 316        United States          Some.college.or.associate.s.degree   64296023
## 317        United States                           Bachelor.s.degree   45730479
## 318        United States             Graduate.or.professional.degree   28771172
##     Earning
## 1     37217
## 2     22395
## 3     30845
## 4     35107
## 5     50643
## 6     60922
## 7     47809
## 8     23264
## 9     36522
## 10    47878
## 11    53033
## 12    71947
## 13    39956
## 14    25701
## 15    31371
## 16    37016
## 17    52077
## 18    69902
## 19    35215
## 20    25695
## 21    30057
## 22    31778
## 23    46964
## 24    62027
## 25    45095
## 26    25949
## 27    33494
## 28    41090
## 29    65078
## 30    92334
## 31    46887
## 32    30968
## 33    35537
## 34    40819
## 35    58229
## 36    71616
## 37    50788
## 38    24426
## 39    37017
## 40    42884
## 41    64143
## 42    85175
## 43    43164
## 44    31024
## 45    33671
## 46    38048
## 47    56603
## 48    70579
## 49    71361
## 50    30883
## 51    31768
## 52    44248
## 53    75222
## 54   101956
## 55    36021
## 56    23292
## 57    30064
## 58    34752
## 59    47810
## 60    62425
## 61    40312
## 62    25479
## 63    31184
## 64    35846
## 65    53662
## 66    70027
## 67    44557
## 68    31620
## 69    35573
## 70    41842
## 71    52183
## 72    72035
## 73    36445
## 74    27667
## 75    31395
## 76    33984
## 77    46364
## 78    60816
## 79    45015
## 80    27186
## 81    32304
## 82    39400
## 83    60357
## 84    76363
## 85    39833
## 86    27765
## 87    32101
## 88    37154
## 89    50630
## 90    65941
## 91    41268
## 92    30381
## 93    33066
## 94    39073
## 95    51751
## 96    66887
## 97    41181
## 98    26549
## 99    32106
## 100   36994
## 101   51678
## 102   62008
## 103   37674
## 104   24631
## 105   31313
## 106   35326
## 107   50711
## 108   60270
## 109   37599
## 110   22913
## 111   30786
## 112   35064
## 113   50699
## 114   60992
## 115   39550
## 116   25504
## 117   31798
## 118   36274
## 119   47375
## 120   60347
## 121   52011
## 122   30300
## 123   36700
## 124   44022
## 125   65193
## 126   89066
## 127   52470
## 128   30693
## 129   39463
## 130   42066
## 131   65373
## 132   85717
## 133   40450
## 134   23192
## 135   31028
## 136   36272
## 137   54634
## 138   71623
## 139   47050
## 140   28327
## 141   35337
## 142   41858
## 143   60316
## 144   75925
## 145   32574
## 146   20764
## 147   27158
## 148   31459
## 149   44148
## 150   56208
## 151   40078
## 152   24831
## 153   31297
## 154   36127
## 155   51217
## 156   63368
## 157   36953
## 158   27804
## 159   30843
## 160   33040
## 161   42150
## 162   58287
## 163   41488
## 164   30298
## 165   32174
## 166   38209
## 167   50779
## 168   61853
## 169   39505
## 170   29609
## 171   32879
## 172   40057
## 173   50293
## 174   66105
## 175   47392
## 176   30119
## 177   37820
## 178   42368
## 179   60544
## 180   71884
## 181   51786
## 182   28427
## 183   35048
## 184   44983
## 185   67038
## 186   92098
## 187   35284
## 188   21016
## 189   29002
## 190   32187
## 191   45109
## 192   62501
## 193   47645
## 194   26036
## 195   33491
## 196   41421
## 197   62699
## 198   81041
## 199   38534
## 200   23976
## 201   30369
## 202   34861
## 203   50977
## 204   65620
## 205   43865
## 206   28756
## 207   34343
## 208   41818
## 209   51854
## 210   61288
## 211   40586
## 212   24836
## 213   31514
## 214   36821
## 215   53680
## 216   71180
## 217   38088
## 218   24760
## 219   31766
## 220   35955
## 221   47828
## 222   61092
## 223   40774
## 224   27408
## 225   31451
## 226   36817
## 227   52498
## 228   70854
## 229   42229
## 230   26343
## 231   32567
## 232   39075
## 233   55326
## 234   73805
## 235   46060
## 236   31893
## 237   36883
## 238   40363
## 239   57398
## 240   76827
## 241   37727
## 242   23085
## 243   30592
## 244   35994
## 245   50734
## 246   60788
## 247   38646
## 248   22131
## 249   31306
## 250   36732
## 251   47630
## 252   57244
## 253   37610
## 254   25365
## 255   30596
## 256   35518
## 257   50633
## 258   62832
## 259   40895
## 260   25282
## 261   31234
## 262   38121
## 263   56853
## 264   72195
## 265   41679
## 266   28028
## 267   34667
## 268   37247
## 269   51611
## 270   76099
## 271   41496
## 272   27052
## 273   32425
## 274   39882
## 275   47170
## 276   61617
## 277   46873
## 278   23892
## 279   32366
## 280   40071
## 281   61529
## 282   85582
## 283   48567
## 284   30627
## 285   36441
## 286   42030
## 287   62447
## 288   86167
## 289   35440
## 290   20200
## 291   30573
## 292   32380
## 293   45304
## 294   58802
## 295   42222
## 296   29561
## 297   33547
## 298   40482
## 299   52425
## 300   67112
## 301   40800
## 302   29982
## 303   36929
## 304   36885
## 305   47962
## 306   61288
## 307   18587
## 308   11259
## 309   15055
## 310   17187
## 311   24668
## 312   34649
## 313   41801
## 314   25876
## 315   31956
## 316   38125
## 317   56344
## 318   75495</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="data-cleaning.html#cb4-1"></a>birth &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./data/births.csv&quot;</span>, <span class="dt">na.strings =</span> <span class="st">&quot;N/A&quot;</span>)</span>
<span id="cb4-2"><a href="data-cleaning.html#cb4-2"></a></span>
<span id="cb4-3"><a href="data-cleaning.html#cb4-3"></a>birth &lt;-<span class="st"> </span>birth <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span><span class="dv">1</span><span class="op">:</span><span class="dv">20</span> ,<span class="dt">names_to =</span> <span class="kw">c</span>(<span class="st">&quot;Give_birth&quot;</span>,<span class="st">&quot;Marriage&quot;</span>,<span class="st">&quot;Education&quot;</span>),</span>
<span id="cb4-4"><a href="data-cleaning.html#cb4-4"></a>    <span class="dt">names_sep =</span> <span class="st">&quot;_&quot;</span>,</span>
<span id="cb4-5"><a href="data-cleaning.html#cb4-5"></a>    <span class="dt">values_to =</span> <span class="st">&quot;Estimate&quot;</span>)</span>
<span id="cb4-6"><a href="data-cleaning.html#cb4-6"></a><span class="co"># Make character values more descriptive and succinct as possible</span></span>
<span id="cb4-7"><a href="data-cleaning.html#cb4-7"></a><span class="co"># Need a note about the inclusion of each group specifically: </span></span>
<span id="cb4-8"><a href="data-cleaning.html#cb4-8"></a><span class="co"># For example, high school = high school (including equivalency), advanced degree = graduate or professional degree</span></span>
<span id="cb4-9"><a href="data-cleaning.html#cb4-9"></a>birth<span class="op">$</span>Education[<span class="kw">which</span>(birth<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;Less.than.high.school.graduate&quot;</span>)] &lt;-<span class="st"> &quot;Less Than High School&quot;</span></span>
<span id="cb4-10"><a href="data-cleaning.html#cb4-10"></a>birth<span class="op">$</span>Education[<span class="kw">which</span>(birth<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;High.school.graduate..includes.equivalency.&quot;</span>)] &lt;-<span class="st"> &quot;High School or Equivalent&quot;</span></span>
<span id="cb4-11"><a href="data-cleaning.html#cb4-11"></a>birth<span class="op">$</span>Education[<span class="kw">which</span>(birth<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;Some.college.or.associate.s.degree&quot;</span>)] &lt;-<span class="st"> &quot;Some Colleges or Associoate Degree&quot;</span></span>
<span id="cb4-12"><a href="data-cleaning.html#cb4-12"></a>birth<span class="op">$</span>Education[<span class="kw">which</span>(birth<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;Bachelor.s.degree&quot;</span>)] &lt;-<span class="st"> &quot;Bachelor Degree&quot;</span></span>
<span id="cb4-13"><a href="data-cleaning.html#cb4-13"></a>birth<span class="op">$</span>Education[<span class="kw">which</span>(birth<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;Graduate.or.professional.degree&quot;</span>)] &lt;-<span class="st"> &quot;Advanced Degree&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="data-cleaning.html#cb5-1"></a>birth</span></code></pre></div>
<pre><code>## # A tibble: 20 x 4
##    Give_birth Marriage  Education                          Estimate
##    &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;                                 &lt;int&gt;
##  1 birth      Married   Less Than High School                202572
##  2 birth      Married   High School or Equivalent            448750
##  3 birth      Married   Some Colleges or Associoate Degree   715554
##  4 birth      Married   Bachelor Degree                      745148
##  5 birth      Married   Advanced Degree                      494817
##  6 birth      Unmarried Less Than High School                220616
##  7 birth      Unmarried High School or Equivalent            450356
##  8 birth      Unmarried Some Colleges or Associoate Degree   460590
##  9 birth      Unmarried Bachelor Degree                      103445
## 10 birth      Unmarried Advanced Degree                       36034
## 11 Nobirth    Married   Less Than High School               2686948
## 12 Nobirth    Married   High School or Equivalent           5906857
## 13 Nobirth    Married   Some Colleges or Associoate Degree  8802059
## 14 Nobirth    Married   Bachelor Degree                     7961510
## 15 Nobirth    Married   Advanced Degree                     5241343
## 16 Nobirth    Unmarried Less Than High School               9244270
## 17 Nobirth    Unmarried High School or Equivalent           9252305
## 18 Nobirth    Unmarried Some Colleges or Associoate Degree 13748688
## 19 Nobirth    Unmarried Bachelor Degree                     7213809
## 20 Nobirth    Unmarried Advanced Degree                     2943900</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="data-cleaning.html#cb7-1"></a>race &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./data/race.csv&quot;</span>, <span class="dt">na.strings =</span> <span class="st">&quot;N/A&quot;</span>)</span>
<span id="cb7-2"><a href="data-cleaning.html#cb7-2"></a>race&lt;-<span class="st"> </span>race <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span> <span class="op">!</span>Gender ,<span class="dt">names_to =</span> <span class="kw">c</span>(<span class="st">&quot;Race&quot;</span>,<span class="st">&quot;Education&quot;</span>),</span>
<span id="cb7-3"><a href="data-cleaning.html#cb7-3"></a>    <span class="dt">names_sep =</span> <span class="st">&quot;_&quot;</span>,</span>
<span id="cb7-4"><a href="data-cleaning.html#cb7-4"></a>    <span class="dt">values_to =</span> <span class="st">&quot;Estimate&quot;</span>)</span>
<span id="cb7-5"><a href="data-cleaning.html#cb7-5"></a></span>
<span id="cb7-6"><a href="data-cleaning.html#cb7-6"></a><span class="co">##change to function!! In the column gender, add one level &quot;Total&quot;</span></span>
<span id="cb7-7"><a href="data-cleaning.html#cb7-7"></a></span>
<span id="cb7-8"><a href="data-cleaning.html#cb7-8"></a>other_race_list =<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;Native.Hawaiian.and.Other.Pacific.Islander.alone&quot;</span>, <span class="st">&quot;American.Indian.or.Alaska.Native.alone&quot;</span>, <span class="st">&quot;Some.other.race.alone&quot;</span>, <span class="st">&quot;Two.or.more.races&quot;</span>)</span>
<span id="cb7-9"><a href="data-cleaning.html#cb7-9"></a>race_male_highschool &lt;-<span class="st"> </span>race <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-10"><a href="data-cleaning.html#cb7-10"></a><span class="st">    </span><span class="kw">filter</span>(Gender <span class="op">==</span><span class="st"> &quot;Male&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb7-11"><a href="data-cleaning.html#cb7-11"></a><span class="st">    </span><span class="kw">filter</span>(Education <span class="op">==</span><span class="st"> &quot;High.school.graduate.or.higher&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-12"><a href="data-cleaning.html#cb7-12"></a><span class="st">    </span><span class="kw">filter</span>(Race <span class="op">%in%</span><span class="st"> </span>other_race_list) <span class="op">%&gt;%</span></span>
<span id="cb7-13"><a href="data-cleaning.html#cb7-13"></a><span class="st">    </span><span class="kw">summarise</span>(<span class="dt">Estimate =</span> <span class="kw">sum</span>(Estimate))</span>
<span id="cb7-14"><a href="data-cleaning.html#cb7-14"></a>race_male_highschool &lt;-<span class="st"> </span>race_male_highschool<span class="op">$</span>Estimate</span>
<span id="cb7-15"><a href="data-cleaning.html#cb7-15"></a></span>
<span id="cb7-16"><a href="data-cleaning.html#cb7-16"></a>race_female_highschool &lt;-<span class="st"> </span>race <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-17"><a href="data-cleaning.html#cb7-17"></a><span class="st">    </span><span class="kw">filter</span>(Gender <span class="op">==</span><span class="st"> &quot;Female&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb7-18"><a href="data-cleaning.html#cb7-18"></a><span class="st">    </span><span class="kw">filter</span>(Education <span class="op">==</span><span class="st"> &quot;High.school.graduate.or.higher&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-19"><a href="data-cleaning.html#cb7-19"></a><span class="st">    </span><span class="kw">filter</span>(Race <span class="op">%in%</span><span class="st"> </span>other_race_list) <span class="op">%&gt;%</span></span>
<span id="cb7-20"><a href="data-cleaning.html#cb7-20"></a><span class="st">    </span><span class="kw">summarise</span>(<span class="dt">Estimate =</span> <span class="kw">sum</span>(Estimate))</span>
<span id="cb7-21"><a href="data-cleaning.html#cb7-21"></a>race_female_highschool &lt;-<span class="st"> </span>race_female_highschool<span class="op">$</span>Estimate</span>
<span id="cb7-22"><a href="data-cleaning.html#cb7-22"></a></span>
<span id="cb7-23"><a href="data-cleaning.html#cb7-23"></a>race_male_bachelor &lt;-<span class="st"> </span>race <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-24"><a href="data-cleaning.html#cb7-24"></a><span class="st">    </span><span class="kw">filter</span>(Gender <span class="op">==</span><span class="st"> &quot;Male&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb7-25"><a href="data-cleaning.html#cb7-25"></a><span class="st">    </span><span class="kw">filter</span>(Education <span class="op">==</span><span class="st"> &quot;Bachelor.s.degree.or.higher&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-26"><a href="data-cleaning.html#cb7-26"></a><span class="st">    </span><span class="kw">filter</span>(Race <span class="op">%in%</span><span class="st"> </span>other_race_list) <span class="op">%&gt;%</span></span>
<span id="cb7-27"><a href="data-cleaning.html#cb7-27"></a><span class="st">    </span><span class="kw">summarise</span>(<span class="dt">Estimate =</span> <span class="kw">sum</span>(Estimate))</span>
<span id="cb7-28"><a href="data-cleaning.html#cb7-28"></a>race_male_bachelor &lt;-<span class="st"> </span>race_male_bachelor<span class="op">$</span>Estimate</span>
<span id="cb7-29"><a href="data-cleaning.html#cb7-29"></a></span>
<span id="cb7-30"><a href="data-cleaning.html#cb7-30"></a>race_female_bachelor &lt;-<span class="st"> </span>race <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-31"><a href="data-cleaning.html#cb7-31"></a><span class="st">    </span><span class="kw">filter</span>(Gender <span class="op">==</span><span class="st"> &quot;Female&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb7-32"><a href="data-cleaning.html#cb7-32"></a><span class="st">    </span><span class="kw">filter</span>(Education <span class="op">==</span><span class="st"> &quot;Bachelor.s.degree.or.higher&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-33"><a href="data-cleaning.html#cb7-33"></a><span class="st">    </span><span class="kw">filter</span>(Race <span class="op">%in%</span><span class="st"> </span>other_race_list) <span class="op">%&gt;%</span></span>
<span id="cb7-34"><a href="data-cleaning.html#cb7-34"></a><span class="st">    </span><span class="kw">summarise</span>(<span class="dt">Estimate =</span> <span class="kw">sum</span>(Estimate))</span>
<span id="cb7-35"><a href="data-cleaning.html#cb7-35"></a>race_female_bachelor &lt;-<span class="st"> </span>race_female_bachelor<span class="op">$</span>Estimate</span>
<span id="cb7-36"><a href="data-cleaning.html#cb7-36"></a></span>
<span id="cb7-37"><a href="data-cleaning.html#cb7-37"></a>race &lt;-<span class="st"> </span>race <span class="op">%&gt;%</span></span>
<span id="cb7-38"><a href="data-cleaning.html#cb7-38"></a><span class="st">    </span><span class="kw">add_row</span>(<span class="dt">Gender =</span> <span class="st">&quot;Male&quot;</span>, <span class="dt">Education =</span> <span class="st">&quot;High.school.graduate.or.higher&quot;</span>, </span>
<span id="cb7-39"><a href="data-cleaning.html#cb7-39"></a>            <span class="dt">Race =</span> <span class="st">&quot;Other.race&quot;</span>, <span class="dt">Estimate =</span> race_male_highschool) <span class="op">%&gt;%</span></span>
<span id="cb7-40"><a href="data-cleaning.html#cb7-40"></a><span class="st">    </span><span class="kw">add_row</span>(<span class="dt">Gender =</span> <span class="st">&quot;Female&quot;</span>, <span class="dt">Education =</span> <span class="st">&quot;High.school.graduate.or.higher&quot;</span>, </span>
<span id="cb7-41"><a href="data-cleaning.html#cb7-41"></a>            <span class="dt">Race =</span> <span class="st">&quot;Other.race&quot;</span>, <span class="dt">Estimate =</span> race_female_highschool) <span class="op">%&gt;%</span></span>
<span id="cb7-42"><a href="data-cleaning.html#cb7-42"></a><span class="st">    </span><span class="kw">add_row</span>(<span class="dt">Gender =</span> <span class="st">&quot;Male&quot;</span>, <span class="dt">Education =</span> <span class="st">&quot;Bachelor.s.degree.or.higher&quot;</span>, </span>
<span id="cb7-43"><a href="data-cleaning.html#cb7-43"></a>            <span class="dt">Race =</span> <span class="st">&quot;Other.race&quot;</span>, <span class="dt">Estimate =</span> race_male_bachelor) <span class="op">%&gt;%</span></span>
<span id="cb7-44"><a href="data-cleaning.html#cb7-44"></a><span class="st">    </span><span class="kw">add_row</span>(<span class="dt">Gender =</span> <span class="st">&quot;Female&quot;</span>, <span class="dt">Education =</span> <span class="st">&quot;Bachelor.s.degree.or.higher&quot;</span>, </span>
<span id="cb7-45"><a href="data-cleaning.html#cb7-45"></a>            <span class="dt">Race =</span> <span class="st">&quot;Other.race&quot;</span>, <span class="dt">Estimate =</span> race_female_bachelor)</span>
<span id="cb7-46"><a href="data-cleaning.html#cb7-46"></a>race &lt;-<span class="st"> </span>race[<span class="op">!</span>race<span class="op">$</span>Race <span class="op">%in%</span><span class="st"> </span>other_race_list, ]</span>
<span id="cb7-47"><a href="data-cleaning.html#cb7-47"></a></span>
<span id="cb7-48"><a href="data-cleaning.html#cb7-48"></a><span class="co"># Make character values more descriptive and succinct as possible</span></span>
<span id="cb7-49"><a href="data-cleaning.html#cb7-49"></a><span class="co"># Need a note that: white means white alone does not count Hispanic or Latino</span></span>
<span id="cb7-50"><a href="data-cleaning.html#cb7-50"></a><span class="co"># Other races include: xxx</span></span>
<span id="cb7-51"><a href="data-cleaning.html#cb7-51"></a>race<span class="op">$</span>Education[<span class="kw">which</span>(race<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;High.school.graduate.or.higher&quot;</span>)] &lt;-<span class="st"> &quot;&gt;= High School&quot;</span></span>
<span id="cb7-52"><a href="data-cleaning.html#cb7-52"></a>race<span class="op">$</span>Education[<span class="kw">which</span>(race<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;Bachelor.s.degree.or.high&quot;</span>)] &lt;-<span class="st"> &quot;&gt;= Bachelor Degree&quot;</span></span>
<span id="cb7-53"><a href="data-cleaning.html#cb7-53"></a>race<span class="op">$</span>Race[<span class="kw">which</span>(race<span class="op">$</span>Race <span class="op">==</span><span class="st"> &quot;White.alone..not.Hispanic.or.Latino&quot;</span>)] &lt;-<span class="st"> &quot;White Alone&quot;</span></span>
<span id="cb7-54"><a href="data-cleaning.html#cb7-54"></a>race<span class="op">$</span>Race[<span class="kw">which</span>(race<span class="op">$</span>Race <span class="op">==</span><span class="st"> &quot;Hispanic.or.Latino.Origin&quot;</span>)] &lt;-<span class="st"> &quot;Hispanic or Latino Origin&quot;</span></span>
<span id="cb7-55"><a href="data-cleaning.html#cb7-55"></a>race<span class="op">$</span>Race[<span class="kw">which</span>(race<span class="op">$</span>Race <span class="op">==</span><span class="st"> &quot;Black.alone&quot;</span>)] &lt;-<span class="st"> &quot;Black Alone&quot;</span></span>
<span id="cb7-56"><a href="data-cleaning.html#cb7-56"></a>race<span class="op">$</span>Race[<span class="kw">which</span>(race<span class="op">$</span>Race <span class="op">==</span><span class="st"> &quot;Asian.alone&quot;</span>)] &lt;-<span class="st"> &quot;Asian Alone&quot;</span></span>
<span id="cb7-57"><a href="data-cleaning.html#cb7-57"></a>race<span class="op">$</span>Race[<span class="kw">which</span>(race<span class="op">$</span>Race <span class="op">==</span><span class="st"> &quot;Other.race&quot;</span>)] &lt;-<span class="st"> &quot;Other Races&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="data-cleaning.html#cb8-1"></a>race</span></code></pre></div>
<pre><code>## # A tibble: 40 x 4
##    Gender Race                              Education                   Estimate
##    &lt;chr&gt;  &lt;chr&gt;                             &lt;chr&gt;                          &lt;int&gt;
##  1 Total  White.alone.not.Hispanic.or.Lati Total                         1.44e8
##  2 Total  White Alone                       &gt;= High School                1.35e8
##  3 Total  White Alone                       Bachelor.s.degree.or.higher   5.32e7
##  4 Total  Hispanic or Latino Origin         Total                         3.49e7
##  5 Total  Hispanic or Latino Origin         &gt;= High School                2.46e7
##  6 Total  Hispanic or Latino Origin         Bachelor.s.degree.or.higher   6.16e6
##  7 Total  Black Alone                       Total                         2.73e7
##  8 Total  Black Alone                       &gt;= High School                2.38e7
##  9 Total  Black Alone                       Bachelor.s.degree.or.higher   6.16e6
## 10 Total  Asian Alone                       Total                         1.34e7
## #  with 30 more rows</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="data-cleaning.html#cb10-1"></a>education &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./data/2015-2019Education.csv&quot;</span>, <span class="dt">na.strings =</span> <span class="st">&quot;N/A&quot;</span>)</span>
<span id="cb10-2"><a href="data-cleaning.html#cb10-2"></a>education&lt;-education <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span> <span class="op">!</span>Gender ,<span class="dt">names_to =</span> <span class="kw">c</span>(<span class="st">&quot;Year&quot;</span>,<span class="st">&quot;Education&quot;</span>),</span>
<span id="cb10-3"><a href="data-cleaning.html#cb10-3"></a>    <span class="dt">names_sep =</span> <span class="st">&quot;_&quot;</span>,</span>
<span id="cb10-4"><a href="data-cleaning.html#cb10-4"></a>    <span class="dt">values_to =</span> <span class="st">&quot;Estimate&quot;</span>)</span>
<span id="cb10-5"><a href="data-cleaning.html#cb10-5"></a>education<span class="op">$</span>Year &lt;-<span class="st"> </span><span class="kw">as.integer</span>(<span class="kw">gsub</span>(<span class="st">&quot;X&quot;</span>, <span class="st">&quot;&quot;</span>, education<span class="op">$</span>Year))</span>
<span id="cb10-6"><a href="data-cleaning.html#cb10-6"></a></span>
<span id="cb10-7"><a href="data-cleaning.html#cb10-7"></a><span class="co"># Make character values more descriptive and succinct as possible</span></span>
<span id="cb10-8"><a href="data-cleaning.html#cb10-8"></a>education<span class="op">$</span>Education[<span class="kw">which</span>(education<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;Less.than.high.school.graduate&quot;</span>)] &lt;-<span class="st"> &quot;Less than High School&quot;</span></span>
<span id="cb10-9"><a href="data-cleaning.html#cb10-9"></a>education<span class="op">$</span>Education[<span class="kw">which</span>(education<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;High.school.graduate..includes.equivalency.&quot;</span>)] &lt;-<span class="st"> &quot;High School or Equivalent&quot;</span></span>
<span id="cb10-10"><a href="data-cleaning.html#cb10-10"></a>education<span class="op">$</span>Education[<span class="kw">which</span>(education<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;Some.college.or.associate.s.degree&quot;</span>)] &lt;-<span class="st"> &quot;Some Colleges or Associate  Degree&quot;</span></span>
<span id="cb10-11"><a href="data-cleaning.html#cb10-11"></a>education<span class="op">$</span>Education[<span class="kw">which</span>(education<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;Bachelor.s.degree&quot;</span>)] &lt;-<span class="st"> &quot;Bachelor Degree&quot;</span></span>
<span id="cb10-12"><a href="data-cleaning.html#cb10-12"></a>education<span class="op">$</span>Education[<span class="kw">which</span>(education<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;Graduate.or.professional.degree&quot;</span>)] &lt;-<span class="st"> &quot;Advanced Degree&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="data-cleaning.html#cb11-1"></a>education</span></code></pre></div>
<pre><code>## # A tibble: 50 x 4
##    Gender  Year Education                          Estimate
##    &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;                                 &lt;int&gt;
##  1 Males   2015 Less than High School              14181016
##  2 Males   2015 High School or Equivalent          29620517
##  3 Males   2015 Some Colleges or Associate  Degree 29027333
##  4 Males   2015 Bachelor Degree                    19615278
##  5 Males   2015 Advanced Degree                    12033250
##  6 Males   2016 Less than High School              14016654
##  7 Males   2016 High School or Equivalent          29600138
##  8 Males   2016 Some Colleges or Associate  Degree 29340080
##  9 Males   2016 Bachelor Degree                    20030807
## 10 Males   2016 Advanced Degree                    12478805
## #  with 40 more rows</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="data-cleaning.html#cb13-1"></a>earning &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./data/2015-2019earnings.csv&quot;</span>, <span class="dt">na.strings =</span> <span class="st">&quot;N/A&quot;</span>)</span>
<span id="cb13-2"><a href="data-cleaning.html#cb13-2"></a>earning&lt;-earning <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span> <span class="op">!</span>Gender ,<span class="dt">names_to =</span> <span class="kw">c</span>(<span class="st">&quot;Year&quot;</span>,<span class="st">&quot;Education&quot;</span>),</span>
<span id="cb13-3"><a href="data-cleaning.html#cb13-3"></a>    <span class="dt">names_sep =</span> <span class="st">&quot;_&quot;</span>,</span>
<span id="cb13-4"><a href="data-cleaning.html#cb13-4"></a>    <span class="dt">values_to =</span> <span class="st">&quot;Earning&quot;</span>)</span>
<span id="cb13-5"><a href="data-cleaning.html#cb13-5"></a>earning<span class="op">$</span>Year &lt;-<span class="st"> </span><span class="kw">as.integer</span>(<span class="kw">gsub</span>(<span class="st">&quot;X&quot;</span>, <span class="st">&quot;&quot;</span>, earning<span class="op">$</span>Year))</span>
<span id="cb13-6"><a href="data-cleaning.html#cb13-6"></a>earning<span class="op">$</span>Education[<span class="kw">which</span>(earning<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;Total.Population&quot;</span>)] &lt;-<span class="st"> &quot;Total Population&quot;</span></span>
<span id="cb13-7"><a href="data-cleaning.html#cb13-7"></a>earning<span class="op">$</span>Education[<span class="kw">which</span>(earning<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;Less.than.high.school.graduate&quot;</span>)] &lt;-<span class="st"> &quot;Less than High School&quot;</span></span>
<span id="cb13-8"><a href="data-cleaning.html#cb13-8"></a>earning<span class="op">$</span>Education[<span class="kw">which</span>(earning<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;High.school.graduate..includes.equivalency.&quot;</span>)] &lt;-<span class="st"> &quot;High School or Equivalent&quot;</span></span>
<span id="cb13-9"><a href="data-cleaning.html#cb13-9"></a>earning<span class="op">$</span>Education[<span class="kw">which</span>(earning<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;Some.college.or.associate.s.degree&quot;</span>)] &lt;-<span class="st"> &quot;Some Colleges or Associate Degree&quot;</span></span>
<span id="cb13-10"><a href="data-cleaning.html#cb13-10"></a>earning<span class="op">$</span>Education[<span class="kw">which</span>(earning<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;Bachelor.s.degree&quot;</span>)] &lt;-<span class="st"> &quot;Bachelor Degree&quot;</span></span>
<span id="cb13-11"><a href="data-cleaning.html#cb13-11"></a>    earning<span class="op">$</span>Education[<span class="kw">which</span>(earning<span class="op">$</span>Education <span class="op">==</span><span class="st"> &quot;Graduate.or.professional.degree&quot;</span>)] &lt;-<span class="st"> &quot;Advanced Degree&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="data-cleaning.html#cb14-1"></a>earning</span></code></pre></div>
<pre><code>## # A tibble: 90 x 4
##    Gender  Year Education                         Earning
##    &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;                               &lt;int&gt;
##  1 Total   2015 Total Population                    36860
##  2 Total   2015 Less than High School               21320
##  3 Total   2015 High School or Equivalent           29004
##  4 Total   2015 Some Colleges or Associate Degree   34377
##  5 Total   2015 Bachelor Degree                     50930
##  6 Total   2015 Advanced Degree                     67286
##  7 Total   2016 Total Population                    37842
##  8 Total   2016 Less than High School               21839
##  9 Total   2016 High School or Equivalent           29969
## 10 Total   2016 Some Colleges or Associate Degree   35406
## #  with 80 more rows</code></pre>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ZujunPeng/Education_attainment/edit/master/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ZujunPeng/Education_attainment/blob/master/03-cleaning.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
