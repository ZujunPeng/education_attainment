[["data-cleaning.html", "Chapter 3 Data Cleaning", " Chapter 3 Data Cleaning birth &lt;- read.csv(&quot;./data/births.csv&quot;, na.strings = &quot;N/A&quot;) birth &lt;- birth %&gt;% pivot_longer(cols =1:20 ,names_to = c(&quot;Give_birth&quot;,&quot;Marriage&quot;,&quot;Education&quot;), names_sep = &quot;_&quot;, values_to = &quot;Estimate&quot;) birth$Estimate &lt;- as.integer(gsub(&quot;,&quot;, &quot;&quot;, birth$Estimate)) # Make character values more descriptive and succinct as possible # Need a note about the inclusion of each group specifically: # For example, high school = high school (including equivalency), advanced degree = graduate or professional degree birth$Education[which(birth$Education == &quot;Less.than.high.school.graduate&quot;)] &lt;- &quot;Less Than High School&quot; birth$Education[which(birth$Education == &quot;High.school.graduate..includes.equivalency.&quot;)] &lt;- &quot;High School or Equivalent&quot; birth$Education[which(birth$Education == &quot;Some.college.or.associate.s.degree&quot;)] &lt;- &quot;Some Colleges or Associoate Degree&quot; birth$Education[which(birth$Education == &quot;Bachelor.s.degree&quot;)] &lt;- &quot;Bachelor Degree&quot; birth$Education[which(birth$Education == &quot;Graduate.or.professional.degree&quot;)] &lt;- &quot;Advanced Degree&quot; race &lt;- read.csv(&quot;./data/race.csv&quot;, na.strings = &quot;N/A&quot;) race&lt;- race %&gt;% pivot_longer(cols = !Gender ,names_to = c(&quot;Race&quot;,&quot;Education&quot;), names_sep = &quot;_&quot;, values_to = &quot;Estimate&quot;) race$Estimate &lt;- as.integer(gsub(&quot;,&quot;, &quot;&quot;, race$Estimate)) other_race_list = list(&quot;Native.Hawaiian.and.Other.Pacific.Islander.alone&quot;, &quot;American.Indian.or.Alaska.Native.alone&quot;, &quot;Some.other.race.alone&quot;, &quot;Two.or.more.races&quot;) race_male_highschool &lt;- race %&gt;% filter(Gender == &quot;Male&quot;) %&gt;% filter(Education == &quot;High.school.graduate.or.higher&quot;) %&gt;% filter(Race %in% other_race_list) %&gt;% summarise(Estimate = sum(Estimate)) race_male_highschool &lt;- race_male_highschool$Estimate race_female_highschool &lt;- race %&gt;% filter(Gender == &quot;Female&quot;) %&gt;% filter(Education == &quot;High.school.graduate.or.higher&quot;) %&gt;% filter(Race %in% other_race_list) %&gt;% summarise(Estimate = sum(Estimate)) race_female_highschool &lt;- race_female_highschool$Estimate race_male_bachelor &lt;- race %&gt;% filter(Gender == &quot;Male&quot;) %&gt;% filter(Education == &quot;Bachelor.s.degree.or.higher&quot;) %&gt;% filter(Race %in% other_race_list) %&gt;% summarise(Estimate = sum(Estimate)) race_male_bachelor &lt;- race_male_bachelor$Estimate race_female_bachelor &lt;- race %&gt;% filter(Gender == &quot;Female&quot;) %&gt;% filter(Education == &quot;Bachelor.s.degree.or.higher&quot;) %&gt;% filter(Race %in% other_race_list) %&gt;% summarise(Estimate = sum(Estimate)) race_female_bachelor &lt;- race_female_bachelor$Estimate race &lt;- race %&gt;% add_row(Gender = &quot;Male&quot;, Education = &quot;High.school.graduate.or.higher&quot;, Race = &quot;Other.race&quot;, Estimate = race_male_highschool) %&gt;% add_row(Gender = &quot;Female&quot;, Education = &quot;High.school.graduate.or.higher&quot;, Race = &quot;Other.race&quot;, Estimate = race_female_highschool) %&gt;% add_row(Gender = &quot;Male&quot;, Education = &quot;Bachelor.s.degree.or.higher&quot;, Race = &quot;Other.race&quot;, Estimate = race_male_bachelor) %&gt;% add_row(Gender = &quot;Female&quot;, Education = &quot;Bachelor.s.degree.or.higher&quot;, Race = &quot;Other.race&quot;, Estimate = race_female_bachelor) race &lt;- race[!race$Race %in% other_race_list, ] # Make character values more descriptive and succinct as possible # Need a note that: white means white alone does not count Hispanic or Latino # Other races include: xxx race$Education[which(race$Education == &quot;High.school.graduate.or.higher&quot;)] &lt;- &quot;&gt;= High School&quot; race$Education[which(race$Education == &quot;Bachelor.s.degree.or.high&quot;)] &lt;- &quot;&gt;= Bachelor Degree&quot; race$Race[which(race$Race == &quot;White.alone..not.Hispanic.or.Latino&quot;)] &lt;- &quot;White Alone&quot; race$Race[which(race$Race == &quot;Hispanic.or.Latino.Origin&quot;)] &lt;- &quot;Hispanic or Latino Origin&quot; race$Race[which(race$Race == &quot;Black.alone&quot;)] &lt;- &quot;Black Alone&quot; race$Race[which(race$Race == &quot;Asian.alone&quot;)] &lt;- &quot;Asian Alone&quot; race$Race[which(race$Race == &quot;Other.race&quot;)] &lt;- &quot;Other Races&quot; education &lt;- read.csv(&quot;./data/2015-2019Education.csv&quot;, na.strings = &quot;N/A&quot;) education&lt;-education %&gt;% pivot_longer(cols = !Gender ,names_to = c(&quot;Year&quot;,&quot;Education&quot;), names_sep = &quot;_&quot;, values_to = &quot;Estimate&quot;) education$Estimate &lt;- as.integer(gsub(&quot;,&quot;,&quot;&quot;,education$Estimate)) # Make character values more descriptive and succinct as possible education$Education[which(education$Education == &quot;Less.than.9th.grade&quot;)] &lt;- &quot;&lt; 9th Grade&quot; education$Education[which(education$Education == &quot;9th.to.12th.grade..no.diploma&quot;)] &lt;- &quot;9th-12th Grade with No Diploma&quot; education$Education[which(education$Education == &quot;High.school.graduate..includes.equivalency.&quot;)] &lt;- &quot;High School or Equivalent&quot; education$Education[which(education$Education == &quot;Some.college..no.degree&quot;)] &lt;- &quot;Some Colleges with No Degree&quot; education$Education[which(education$Education == &quot;Associate.s.degree&quot;)] &lt;- &quot;Associate Degree&quot; education$Education[which(education$Education == &quot;Bachelor.s.degree&quot;)] &lt;- &quot;Bachelor Degree&quot; education$Education[which(education$Education == &quot;Graduate.or.professional.degree&quot;)] &lt;- &quot;Advanced Degree&quot; earning &lt;- read.csv(&quot;./data/2015-2019earnings.csv&quot;, na.strings = &quot;N/A&quot;) earning&lt;-earning %&gt;% pivot_longer(cols = !Gender ,names_to = c(&quot;Year&quot;,&quot;Education&quot;), names_sep = &quot;_&quot;, values_to = &quot;Earning&quot;) earning$Earning &lt;- as.integer(gsub(&quot;,&quot;,&quot;&quot;,earning$Earning)) earning$Year &lt;- as.integer(gsub(&quot;X&quot;, &quot;&quot;, earning$Year)) earning$Education[which(earning$Education == &quot;Total.Population&quot;)] &lt;- &quot;Total Population&quot; earning$Education[which(earning$Education == &quot;Less.than.high.school.graduate&quot;)] &lt;- &quot;&lt; High School&quot; earning$Education[which(earning$Education == &quot;High.school.graduate..includes.equivalency.&quot;)] &lt;- &quot;High School or Equivalent&quot; earning$Education[which(earning$Education == &quot;Some.college.or.associate.s.degree&quot;)] &lt;- &quot;Some Colleges or Associate Degree&quot; earning$Education[which(earning$Education == &quot;Bachelor.s.degree&quot;)] &lt;- &quot;Bachelor Degree&quot; earning$Education[which(earning$Education == &quot;Graduate.or.professional.degree&quot;)] &lt;- &quot;Advanced Degree&quot; "]]
