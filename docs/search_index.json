[["data-cleaning.html", "Chapter 3 Data Cleaning", " Chapter 3 Data Cleaning library(tidyverse) ## ── Attaching packages ─────────────────────────────────────────────────── tidyverse 1.3.0 ── ## ✓ ggplot2 3.3.2 ✓ purrr 0.3.4 ## ✓ tibble 3.0.3 ✓ dplyr 1.0.2 ## ✓ tidyr 1.1.2 ✓ stringr 1.4.0 ## ✓ readr 1.3.1 ✓ forcats 0.5.0 ## ── Conflicts ────────────────────────────────────────────────────── tidyverse_conflicts() ── ## x dplyr::filter() masks stats::filter() ## x dplyr::lag() masks stats::lag() library(dplyr) birth &lt;- read.csv(&quot;./data/births.csv&quot;, na.strings = &quot;N/A&quot;) birth &lt;- birth %&gt;% pivot_longer(cols =1:20 ,names_to = c(&quot;Give_birth&quot;,&quot;Marriage&quot;,&quot;Education&quot;), names_sep = &quot;_&quot;, values_to = &quot;Estimate&quot;) birth$Estimate &lt;- as.integer(gsub(&quot;,&quot;, &quot;&quot;, birth$Estimate)) race &lt;- read.csv(&quot;./data/race.csv&quot;, na.strings = &quot;N/A&quot;) race&lt;- race %&gt;% pivot_longer(cols = !Gender ,names_to = c(&quot;Race&quot;,&quot;Education&quot;), names_sep = &quot;_&quot;, values_to = &quot;Estimate&quot;) race$Estimate &lt;- as.integer(gsub(&quot;,&quot;, &quot;&quot;, race$Estimate)) #error since read number as char #race$Other_High.school.graduate.or.higher&lt;-race$American.Indian.or.Alaska.Native.alone_High.school.graduate.or.higher+race$Native.Hawaiian.and.Other.Pacific.Islander.alone_High.school.graduate.or.higher+race$Some.other.race.alone_High.school.graduate.or.higher + race$Two.or.more.races_High.school.graduate.or.higher #race$Other_Bachelors.s.degree.or.higher &lt;- race$American.Indian.or.Alaska.Native.alone_Bachelor.s.degree.or.higher + race$Native.Hawaiian.and.Other.Pacific.Islander.alone_Bachelor.s.degree.or.higher + race$Some.other.race.alone_Bachelor.s.degree.or.higher + race$Two.or.more.races_Bachelor.s.degree.or.higher #Then drop columns! education &lt;- read.csv(&quot;./data/2015-2019Education.csv&quot;, na.strings = &quot;N/A&quot;) education&lt;-education %&gt;% pivot_longer(cols = !Gender ,names_to = c(&quot;Year&quot;,&quot;Education&quot;), names_sep = &quot;_&quot;, values_to = &quot;Estimate&quot;) education$Estimate &lt;- as.integer(gsub(&quot;,&quot;,&quot;&quot;,education$Estimate)) earning &lt;- read.csv(&quot;./data/2015-2019earnings.csv&quot;, na.strings = &quot;N/A&quot;) earning&lt;-earning %&gt;% pivot_longer(cols = !Gender ,names_to = c(&quot;Year&quot;,&quot;Education&quot;), names_sep = &quot;_&quot;, values_to = &quot;Earning&quot;) earning$Earning &lt;- as.integer(gsub(&quot;,&quot;,&quot;&quot;,earning$Earning)) "]]
