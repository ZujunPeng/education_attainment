# Data Cleaning

```{r}
library(tidyverse)
library(dplyr)
```


```{r}
birth <- read.csv("./data/births.csv", na.strings = "N/A")
```

```{r}
birth <- birth %>% pivot_longer(cols =1:20 ,names_to = c("Give_birth","Marriage","Education"),
    names_sep = "_",
    values_to = "Estimate")
birth$Estimate <- as.integer(gsub(",", "", birth$Estimate))

```


```{r}
race <- read.csv("./data/race.csv", na.strings = "N/A")
race<- race %>% pivot_longer(cols = !Gender ,names_to = c("Race","Education"),
    names_sep = "_",
    values_to = "Estimate")
race$Estimate <- as.integer(gsub(",", "", race$Estimate))

other_race_list = list("Native.Hawaiian.and.Other.Pacific.Islander.alone", "American.Indian.or.Alaska.Native.alone", "Some.other.race.alone", "Two.or.more.races")
race_male_highschool <- race %>% 
    filter(Gender == "Male") %>%
    filter(Education == "High.school.graduate.or.higher") %>% 
    filter(Race %in% other_race_list) %>%
    summarise(Estimate = sum(Estimate))
race_male_highschool <- race_male_highschool$Estimate

race_female_highschool <- race %>% 
    filter(Gender == "Female") %>%
    filter(Education == "High.school.graduate.or.higher") %>% 
    filter(Race %in% other_race_list) %>%
    summarise(Estimate = sum(Estimate))
race_female_highschool <- race_female_highschool$Estimate

race_male_bachelor <- race %>% 
    filter(Gender == "Male") %>%
    filter(Education == "Bachelor.s.degree.or.higher") %>% 
    filter(Race %in% other_race_list) %>%
    summarise(Estimate = sum(Estimate))
race_male_bachelor <- race_male_bachelor$Estimate

race_female_bachelor <- race %>% 
    filter(Gender == "Female") %>%
    filter(Education == "Bachelor.s.degree.or.higher") %>% 
    filter(Race %in% other_race_list) %>%
    summarise(Estimate = sum(Estimate))
race_female_bachelor <- race_female_bachelor$Estimate

race <- race %>%
    add_row(Gender = "Male", Education = "High.school.graduate.or.higher", 
            Race = "Other.race", Estimate = race_male_highschool) %>%
    add_row(Gender = "Female", Education = "High.school.graduate.or.higher", 
            Race = "Other.race", Estimate = race_female_highschool) %>%
    add_row(Gender = "Male", Education = "Bachelor.s.degree.or.higher", 
            Race = "Other.race", Estimate = race_male_bachelor) %>%
    add_row(Gender = "Female", Education = "Bachelor.s.degree.or.higher", 
            Race = "Other.race", Estimate = race_female_bachelor)
race <- race[!race$Race %in% other_race_list, ]
```

```{r}
education <- read.csv("./data/2015-2019Education.csv", na.strings = "N/A")
education<-education %>% pivot_longer(cols = !Gender ,names_to = c("Year","Education"),
    names_sep = "_",
    values_to = "Estimate")
education$Estimate <- as.integer(gsub(",","",education$Estimate))
```

```{r}
earning <- read.csv("./data/2015-2019earnings.csv", na.strings = "N/A")
earning<-earning %>% pivot_longer(cols = !Gender ,names_to = c("Year","Education"),
    names_sep = "_",
    values_to = "Earning")
earning$Earning <- as.integer(gsub(",","",earning$Earning))
```


